<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Entries</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        button {
            margin-top: 10px;
        }
        .remove-button {
            background-color: rgb(0, 55, 255);
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
        .edit-button {
            background-color: orange;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<h1>Colleges</h1>
<form method="post">
    {% csrf_token %}
    <input type="text" id="name" placeholder="Name" required name ="name">
    <input type="text" id="name" placeholder="place" required name ="place">
    <input type="text" id="name" placeholder="post" required name ="post">
    <input type="text" id="name" placeholder="pin" required name ="pin">
    <input type="tel" id="phone" placeholder="Phoneno" required name="phoneno">
    <input type="text" id="email" placeholder="email" required name="email">
    <button type="submit">Add Entry</button>
</form>

<table id="entriesTable">
    <thead>
        <tr>
            <th>Name</th>
            <th>Place</th>
            <th>Address</th>
            <th>Phone No</th>
            <th>Email</th>
        </tr>
        {%for i in val%}
        <tr>
            <td>{{i.name}}</td>
            <td>{{i.place}}</td>
            <td>{{i.post}},{{i.pin}}</td>
            <td>{{i.phoneno}}</td>
            <td>{{i.email}}</td>


            <td> <a href="/collegeedit/{{i.id}}/">edit</a></td>
            <td> <a href="/collegedelete/{{i.id}}/">remove</a></td>

        </tr>
        {%endfor%}
    </thead>
    <tbody>
    </tbody>
</table>

<!-- <script>
    let editingRow = null;

    document.getElementById('entryForm').addEventListener('submit', function(event) {
        event.preventDefault();
        
        const name = document.getElementById('name').value;
        const address = document.getElementById('address').value;
        const phone = document.getElementById('phone').value;
        const email = document.getElementById('email').value;

        const tableBody = document.getElementById('entriesTable').getElementsByTagName('tbody')[0];

        if (editingRow) {
            // Update the existing row
            editingRow.cells[0].textContent = name;
            editingRow.cells[1].textContent = address;
            editingRow.cells[2].textContent = phone;
            editingRow.cells[3].textContent = email;
            editingRow = null; // Clear the editing row
        } else {
            // Insert a new row
            const newRow = tableBody.insertRow();
            newRow.insertCell(0).textContent = name;
            newRow.insertCell(1).textContent = address;
            newRow.insertCell(2).textContent = phone;
            newRow.insertCell(3).textContent = email;

            const actionCell = newRow.insertCell(4); // Create a separate cell for actions

            const deleteButton = document.createElement('button');
            deleteButton.textContent = 'Remove';
            deleteButton.className = 'remove-button';
            deleteButton.onclick = function() {
                if (confirm('Are you sure you want to remove this entry?')) {
                    tableBody.deleteRow(newRow.rowIndex - 1);
                }
            };
            actionCell.appendChild(deleteButton);

            const editButton = document.createElement('button');
            editButton.textContent = 'Edit';
            editButton.className = 'edit-button';
            editButton.onclick = function() {
                document.getElementById('name').value = name;
                document.getElementById('address').value = address;
                document.getElementById('phone').value = phone;
                document.getElementById('email').value = email;
                editingRow = newRow; // Mark the row as being edited
            };
            actionCell.appendChild(editButton);
        }

        document.getElementById('entryForm').reset();
    });
</script> -->

</body>
</html>
